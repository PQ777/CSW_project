<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-SERVICE.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-database.js"></script>
    <script type = "text/javascript" src = "db/app.js"></script>
	<!--Google Login정보 js-->
    <script type = "text/javascript" src = "googleLogin.js"></script> 
	<!--firebase database js-->
    <script type = "text/javascript" src = "db/database.js"></script>
    <title>Document</title>
</head>
<body>
    <p1 id = "CO2"></p1>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="line-graph" width="300" height="250"></canvas>

    <script>
        firebase.database().ref('airQuality/1-setFloat').on('value', function(snapshot){
                    if(snapshot.val())
                    {
                        var CO2 = snapshot.val().CO2;
                        var O3 = snapshot.val().O3;
                        var PM = snapshot.val().PM;
                        var CO = snapshot.val().CO;
                    
                        document.getElementById("CO2").innerHTML = CO2+'ppm';
                        document.getElementById("O3").innerHTML = O3+'ppm';
                        document.getElementById("PM").innerHTML = PM+'㎛';
                        document.getElementById("CO").innerHTML = CO+'ppm';
                        
                        


                    }
                })

               
    </script>


    <script>
            firebase.database().ref('airQuality/1-setFloat').on('value', function(snapshot){
                   
                    
      
                        var PM = snapshot.val().PM;
                        var PM_30 = PM + 3;
                        var PM_60 = PM + 10 / 3;
                        var PM_90 = PM_60 + 10;
                        var CO2 = snapshot.val().CO2;
                        var O3 = snapshot.val().O3;
                        var CO = snapshot.val().CO;
                    
                
             new Chart(document.getElementById("line-graph"), {
            type: 'line',
            data: {
                labels: [1, 10, 40, 80],
                datasets: [{ 
                    data: [PM, PM_30,PM_60,PM_90],
                    label: "Africa",
                    borderColor: "#3e95cd",
                    fill: false
                }, { 
                    data: [1],
                    label: "Asia",
                    borderColor: "#8e5ea2",
                    fill: false
                }, { 
                    data: [168,170,178,190,203,276,408,547,675,734],
                    label: "Europe",
                    borderColor: "#3cba9f",
                    fill: false
                }, { 
                    data: [40,20,10,16,24,38,74,167,508,784],
                    label: "Latin America",
                    borderColor: "#e8c3b9",
                    fill: false
                }, { 
                    data: [6,3,2,2,7,26,82,172,312,433],
                    label: "North America",
                    borderColor: "#c45850",
                    fill: false
                }
                ]
            },
            options: {
                title: {
                display: true,
                text: 'World population per region (in millions)'
                }
            }
        })
            });
    </script>
</body>
</html>